<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper">

	<select id="Login" parameterType = "java.lang.String" resultType = "map">
		select s_email,s_id,s_pw,s_shape from SIGNUP where s_id = #{value}
	</select>
	
	<select id = "idExit" parameterType = "map" resultType = "int">
	SELECT NVL((SELECT 1 as status FROM dual WHERE EXISTS 
	(SELECT S_ID FROM signup WHERE s_id=#{f_id} AND rownum=1)),0) status
        FROM dual
	</select>
	
	<select id = "EmailExit" parameterType = "map" resultType = "int">
	SELECT NVL((SELECT 1 as status FROM dual WHERE EXISTS 
	(SELECT S_ID FROM signup WHERE s_email=#{f_email} AND rownum=1)),0) status
        FROM dual
	</select>
	
	<insert id="Join" parameterType="map">
		insert into SIGNUP(s_email,s_id,s_pw,s_shape) values(#{j_email},#{j_id},#{j_pw},#{j_c})
	</insert> 
	
	<insert id="AJoin" parameterType="map">
		insert into SIGNUP(s_email,s_id,s_pw) values(#{j_email},#{j_id},#{j_pw})
	</insert> 
	
	<insert id="JoinCapchar" parameterType="map">
		insert into SIGNUP(s_email,s_id,s_shape,s_Tokens) values(#{j_email},#{j_id},#{j_shape},#{j_token})
	</insert> 

  <update id="proc_ClientUpdate" statementType="CALLABLE" parameterType="hashmap">
        {  call proc_ClientUpdate(
                #{f_file},
                #{f_dropdown},
                #{f_name},
                #{f_address1},
                #{f_gender},
                #{c_no}
            )
        }
    </update>


</mapper>